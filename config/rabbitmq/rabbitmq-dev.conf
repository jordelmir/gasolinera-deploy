# RabbitMQ Development Configuration
# Optimized for development with debugging and monitoring

# Listeners
listeners.tcp.default = 5672
management.tcp.port = 15672

# Logging
log.console = true
log.console.level = debug
log.file = /var/log/rabbitmq/rabbit-dev.log
log.file.level = debug
log.file.rotation.date = $D0
log.file.rotation.size = 10485760

# Memory Management (Development)
vm_memory_high_watermark.relative = 0.8
vm_memory_high_watermark_paging_ratio = 0.5
disk_free_limit.relative = 1.0

# Connection Management
heartbeat = 60
frame_max = 131072
channel_max = 2047
connection_max = 1000

# Queue Management
default_vhost = gasolinera_dev_vhost
default_user = gasolinera_dev
default_pass = dev_password_2024
default_permissions.configure = .*
default_permissions.read = .*
default_permissions.write = .*

# Clustering (Disabled for development)
cluster_formation.peer_discovery_backend = classic_config
cluster_formation.classic_config.nodes.1 = rabbit@localhost

# Management Plugin
management.rates_mode = basic
management.sample_retention_policies.global.minute = 5
management.sample_retention_policies.global.hour = 60
management.sample_retention_policies.global.day = 1200

# Development Features
collect_statistics = coarse
collect_statistics_interval = 5000
management_agent.disable_metrics_collector = false

# Queue Settings
queue_master_locator = min-masters
lazy_queue_explicit_gc_run_operation_threshold = 1000
queue_index_embed_msgs_below = 4096

# Message Store
msg_store_file_size_limit = 16777216
msg_store_credit_disc_bound = 4000

# Performance Tuning for Development
tcp_listen_options.backlog = 128
tcp_listen_options.nodelay = true
tcp_listen_options.linger.on = true
tcp_listen_options.linger.timeout = 0
tcp_listen_options.exit_on_close = false

# Plugins (Development)
plugins.directories.1 = /opt/rabbitmq/plugins
plugins.expand_criteria.1 = rabbitmq_management
plugins.expand_criteria.2 = rabbitmq_management_agent
plugins.expand_criteria.3 = rabbitmq_web_dispatch